## final

​`final`​关键字在Java中是一个非常重要的修饰符，它可以用来修饰类、方法和变量。`final`​修饰的类、方法和变量具有不同的含义和作用。

**final修饰类**

当`final`​修饰一个类时，这个类不能被继承。换句话说，没有任何其他类可以扩展这个`final`​类。这主要用于设计不变的类或安全敏感的类，确保它们不会被修改或扩展。例如，Java标准库中的`String`​类就是一个`final`​类。

```java
public final class MyFinalClass {
    // 类的实现
}
```

**final修饰变量**

当`final`​修饰一个变量时，这个变量就成为了一个常量，意味着一旦给它赋了一个初始值之后，就不能再对它进行修改。`final`​变量可以是成员变量、局部变量或类变量。

* **成员变量**：如果`final`​修饰的是一个成员变量，那么这个变量必须在声明的时候或者在构造函数中被初始化。
* **局部变量**：`final`​修饰的局部变量必须在声明时或在第一次使用之前被初始化。
* **类变量**：`final`​修饰的类变量（静态变量）必须在声明时或在静态初始化块中被初始化。

```java
public class MyClass {
    public final int MY_FINAL_VARIABLE = 99; // final成员变量

    public void myMethod() {
        final int myFinalLocalVariable = 100; // final局部变量
    }
}
```

**final修饰方法**

虽然问题中没有提及，但补充一下`final`​修饰方法的情况。当`final`​修饰一个方法时，这个方法不能被子类覆盖。这通常用于防止关键方法被修改的行为。

```java
public class MyBaseClass {
    public final void myFinalMethod() {
        // 方法实现
    }
}
```

**总结**

* ​`final`​修饰类：使类不可被继承。
* ​`final`​修饰变量：使变量成为常量，一旦初始化后不可更改。
* ​`final`​修饰方法（补充）：防止方法被子类覆盖。

使用`final`​关键字可以增加代码的安全性和清晰度，是Java编程中一个非常有用的特性。

‍

## String

​`String`​在Java中被设计为不可变的，原因主要包括：

1. **安全性**：字符串经常作为参数在网络和多线程环境中传递。如果字符串可变，那么字符串内容可能在传递过程中被改变，导致安全漏洞。
2. **线程安全**：由于`String`​不可变，它自然是线程安全的。这意味着在并发环境下，多个线程可以同时使用同一个`String`​对象，而不会出现数据不一致的问题。
3. **实现字符串池（String Pool）** ：不可变使得字符串缓存成为可能。Java虚拟机（JVM）内部维护了一个字符串池，用于存储所有的字符串字面量。这样，如果有相同的字符串字面量，JVM就不需要再创建一个新的字符串对象，而是直接指向池中已存在的字符串，从而节省内存。
4. **支持哈希缓存**：由于`String`​的内容不会改变，它的哈希码也就可以缓存起来。这意味着在使用`String`​对象作为`HashMap`​的键时，不需要每次都重新计算哈希码，提高了哈希表的效率。

总之，`String`​的不可变性为Java程序提供了安全性、线程安全、内存效率和高性能的哈希表使用等多方面的好处。
